<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>用AJAX以JSON方式提交数据</title>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <th:block th:include="include :: header('用户个人信息')" />
</head>
<body>
<div class="" id="user_info" th:object="${job}">
    <form class="form-horizontal" id="form-user-edit">
        <div class="form-group">
            <label class="col-sm-2 control-label">作业ID：</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="id" th:field="*{id}" placeholder="请输入id">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">题干：</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="title" maxlength="11" th:field="*{title}" placeholder="请输入题干">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">创建人：</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="createBy" th:field="*{createBy}" placeholder="请输入创建人">
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="button" class="btn btn-sm btn-primary" onclick="submitUserInfo()"><i class="fa fa-check"></i>保 存</button>&nbsp;
                <button type="button" class="btn btn-sm btn-danger" onclick="closeItem()"><i class="fa fa-reply-all"></i>关 闭 </button>
            </div>
        </div>
    </form>
</div>
<th:block th:include="include :: footer" />
<script>

    function submitUserInfo() {
        var id=document.getElementById('id').value;
        var title=document.getElementById('title').value;
        var job={"id":id,"title":title};
        var jsonData = JSON.stringify(job);
        var data = JSON.parse(jsonData);
        var page="category";

        $.operate.saveModal(ctx + "category", data);

    }
</script>
</body>

</html>
